{
  "description": "Single source of truth for extraction patterns. Each key under hosts is hostname (window.location.hostname). Sync or generate extractor.ts defaultsByDomain from this. Update url-detector.ts and manifest.json when adding hosts. Prefer semantic/stable selectors (Principles Step 2).",
  "selectorTypes": {
    "semantic": "Attribute-based (e.g. data-message-author-role, data-testid); most stable",
    "id": "Single element ID; stable only if app never changes it",
    "absolutePath": "Full path from document root; breaks on DOM change",
    "special": "Custom function in extractor (e.g. __kimi_special__)"
  },
  "hosts": {
    "chat.openai.com": {
      "source": "chatgpt",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//div[@data-message-author-role]",
      "selectorType": "semantic",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Stable; one selector per message (Principles Step 2)."
    },
    "chatgpt.com": {
      "source": "chatgpt",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//div[@data-message-author-role]",
      "selectorType": "semantic",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Same as chat.openai.com."
    },
    "www.chatgpt.com": {
      "source": "chatgpt",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//div[@data-message-author-role]",
      "selectorType": "semantic",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Same as chat.openai.com."
    },
    "claude.ai": {
      "source": "claude",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//*[@data-testid=\"user-message\"] | //p[contains(@class,'font-claude-response-body')]",
      "selectorType": "semantic",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Semantic: user-message + assistant response paragraphs (from template; Principles Step 2)."
    },
    "www.perplexity.ai": {
      "source": "perplexity",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//*[@id=\"root\"]/div[1]/div/div/div[2]/div/div[1]/div[1]/div[3]/div/div[1]/div/div[2]/div/div/div/div/div",
      "selectorType": "absolutePath",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Brittle; no semantic message container in template—check data-testid on live page (Principles Step 2)."
    },
    "perplexity.ai": {
      "source": "other",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//*[@id=\"root\"]/div[1]/div/div/div[2]/div/div[1]/div[1]/div[3]/div/div[1]/div/div[2]/div/div/div/div/div",
      "selectorType": "absolutePath",
      "inManifest": false,
      "inUrlDetector": false,
      "notes": "In extractor only; add to manifest + url-detector to enable Beast Mode."
    },
    "kimi.moonshot.cn": {
      "source": "kimi",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "",
      "selectorType": "",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Missing in extractor.ts; add __kimi_special__ or XPath."
    },
    "www.kimi.com": {
      "source": "kimi",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "__kimi_special__",
      "selectorType": "special",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Uses extractKimiContent(); update first XPath in function to stable selector if site changes (Principles Step 5)."
    },
    "kimi.com": {
      "source": "kimi",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "__kimi_special__",
      "selectorType": "special",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Same as www.kimi.com."
    },
    "chat.mistral.ai": {
      "source": "mistral",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//p[@dir=\"auto\" and contains(@class,'whitespace-break-spaces')]",
      "selectorType": "semantic",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Semantic: message paragraphs by dir and class (from template; Principles Step 2)."
    },
    "chat.deepseek.com": {
      "source": "deepseek",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "__deepseek_special__",
      "selectorType": "special",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Uses extractDeepSeekContent(); update first XPath in function to stable selector if site changes (Principles Step 5)."
    },
    "chat.qwen.ai": {
      "source": "qwen",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//*[@id=\"chat-message-container\"]",
      "selectorType": "id",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Stable ID; one container—extractor iterates children. Can break if app renames ID."
    },
    "manus.im": {
      "source": "manus",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//*[@id=\"manus-home-page-session-content\"]",
      "selectorType": "id",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Stable ID; one container. Can break if app renames ID."
    },
    "grok.com": {
      "source": "grok",
      "title": "documentTitle",
      "conversation": "//title",
      "message": "//p[@dir=\"auto\" and contains(@class,'break-words')]",
      "selectorType": "semantic",
      "inManifest": true,
      "inUrlDetector": true,
      "notes": "Semantic: message paragraphs by dir and class (from template; was absolute path)."
    }
  }
}
